<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hog Rider Runner ‚Äî Ultimate Clash Edition</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#121212; color:#eee; overflow:hidden; }
.top { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#1c1c1c; border-bottom:2px solid #333; }
.controls button { margin-left:10px; padding:6px 12px; background:#333; color:#eee; border:1px solid #555; border-radius:4px; cursor:pointer; }
.controls button:hover { background:#444; }
#game-area { text-align:center; margin-top:0; }
canvas { display:block; margin:0 auto; border:2px solid #555; }
#hud { text-align:center; margin-top:10px; }
#scoreText { font-weight:bold; margin-bottom:4px; }
#tips { font-size:12px; color:#bbb; }
.overlay { display:flex; justify-content:center; align-items:center; position:fixed; inset:0; background:rgba(0,0,0,0.85); z-index:1000; }
#overlayBox { background:#222; padding:25px 20px; border-radius:12px; text-align:center; max-width:400px; width:90%; border:2px solid #555; }
#overlayBox h2 { margin-top:0; margin-bottom:10px; }
#overlayBox p { font-size:14px; color:#ccc; line-height:1.4; margin-bottom:15px; }
.overlay-buttons button { padding:8px 20px; border-radius:5px; border:1px solid #555; background:#333; color:#eee; }
.overlay-buttons button:hover { background:#444; }
</style>
</head>
<body>

<div class="top">
  <h1>Hog Rider Runner ‚öîÔ∏è ‚Äî Ultimate Clash Edition</h1>
  <div class="controls">
    <button id="startBtn">Start</button>
    <button id="pauseBtn" style="display:none">Pause</button>
    <button id="muteBtn">üîä</button>
  </div>
</div>

<div id="game-area">
  <canvas id="gameCanvas" width="960" height="360"></canvas>
</div>

<div id="hud">
  <div id="scoreText">Score: 0 ‚Ä¢ High: 0</div>
  <div id="tips">Space / Up / W = Jump ‚Ä¢ Click / Tap canvas to jump</div>
</div>

<div id="overlay" class="overlay">
  <div id="overlayBox">
    <h2>Hog Rider Runner</h2>
    <p>Run through the battlefield with Hograders. Multiple enemies, power-ups, boss wave, and cinematic rocket ending at 2000 points.</p>
    <div class="overlay-buttons">
      <button id="overlayStart">Begin</button>
    </div>
  </div>
</div>

<script>
// --- Canvas ---
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// --- Controls ---
const startBtn = document.getElementById('startBtn');
const pauseBtn = document.getElementById('pauseBtn');
const overlayStart = document.getElementById('overlayStart');
const muteBtn = document.getElementById('muteBtn');

// --- Game state ---
let isRunning=false, score=0, highScore=0, frameCount=0;
let bossActive=false, rocketLaunched=false, bgX=0, musicPlaying=true;

// --- Player ---
const player = { x:50, y:canvas.height-80, width:50, height:50, dy:0, gravity:0.7, jumpPower:-12, grounded:true };
const playerImg = new Image();
playerImg.src = 'https://i.imgur.com/W3e7FqE.png'; // Hog Rider sprite

// --- Enemies ---
const enemies = [];
const enemyImgs = [
  'https://i.imgur.com/4bF8qV6.png', // Barbarian
  'https://i.imgur.com/L2hEx6x.png', // Archer
  'https://i.imgur.com/BvNYf9R.png'  // Giant
];

// --- Background ---
const bgImg = new Image();
bgImg.src = 'https://i.imgur.com/8gkQkDm.jpg'; // Clash battlefield

// --- Rocket ---
const rocketImg = new Image();
rocketImg.src = 'https://i.imgur.com/7ou2x6R.png';

// --- Power-ups ---
const powerUps = [];
const powerImg = new Image();
powerImg.src = 'https://i.imgur.com/m2NQnEb.png'; // coin

// --- Sounds ---
const jumpSound = new Audio('https://freesound.org/data/previews/66/66717_931655-lq.mp3');
const hitSound = new Audio('https://freesound.org/data/previews/353/353841_5121236-lq.mp3');
const powerSound = new Audio('https://freesound.org/data/previews/109/109662_945474-lq.mp3');
const bgMusic = new Audio('https://freesound.org/data/previews/458/458712_5121236-lq.mp3');
bgMusic.loop = true;

// --- Input ---
document.addEventListener('keydown', e => { if(['Space','ArrowUp'].includes(e.code) || e.key.toLowerCase()==='w') jump(); });
canvas.addEventListener('click', jump);

function jump(){ if(player.grounded){ player.dy=player.jumpPower; player.grounded=false; jumpSound.play(); } }

// --- Start / Pause ---
startBtn.onclick=startGame;
overlayStart.onclick=()=>{ document.getElementById('overlay').style.display='none'; startGame(); };
pauseBtn.onclick=()=>{ isRunning=!isRunning; pauseBtn.innerText=isRunning?'Pause':'Resume'; if(isRunning) requestAnimationFrame(gameLoop); };
muteBtn.onclick=()=>{ musicPlaying=!musicPlaying; if(musicPlaying){ bgMusic.play(); muteBtn.innerText='üîä'; } else{ bgMusic.pause(); muteBtn.innerText='üîá'; }};

// --- Game Functions ---
function startGame(){
  isRunning=true; score=0; frameCount=0; enemies.length=0; powerUps.length=0; bossActive=false; rocketLaunched=false; bgX=0;
  startBtn.style.display='none'; pauseBtn.style.display='inline';
  if(musicPlaying) bgMusic.play();
  requestAnimationFrame(gameLoop);
}

function spawnEnemy(){
  const type = Math.floor(Math.random()*enemyImgs.length);
  enemies.push({x:canvas.width, y:canvas.height-70, width:50, height:50, speed:4+Math.random()*3, img:type});
}

function spawnPowerUp(){
  powerUps.push({x:canvas.width, y:canvas.height-70, width:30, height:30, speed:4});
}

function drawBackground(){
  bgX-=2;
  if(bgX<=-canvas.width) bgX=0;
  ctx.drawImage(bgImg, bgX,0,canvas.width,canvas.height);
  ctx.drawImage(bgImg, bgX+canvas.width,0,canvas.width,canvas.height);
}

// --- Rocket Animation ---
function drawRocket(){
  const rocketY = canvas.height - 100 - (frameCount-2000);
  if(rocketY> -100) ctx.drawImage(rocketImg, canvas.width-100, rocketY, 50,100);
}

// --- Main Loop ---
function gameLoop(){
  if(!isRunning) return;
  frameCount++;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  drawBackground();

  // --- Player ---
  player.dy += player.gravity;
  player.y += player.dy;
  if(player.y+player.height >= canvas.height-10){ player.y=canvas.height-10-player.height; player.dy=0; player.grounded=true; }
  ctx.drawImage(playerImg, player.x, player.y, player.width, player.height);

  // --- Spawn ---
  if(frameCount%90===0 && !bossActive) spawnEnemy();
  if(frameCount%600===0 && !bossActive) spawnPowerUp();

  // --- Update enemies ---
  for(let i=enemies.length-1;i>=0;i--){
    const e=enemies[i]; e.x -= e.speed;
    ctx.drawImage(new Image(), e.x,e.y,e.width,e.height);
    let img = new Image();
    img.src = enemyImgs[e.img];
    ctx.drawImage(img,e.x,e.y,e.width,e.height);
    if(player.x<e.x+e.width && player.x+player.width>e.x && player.y<e.y+e.height && player.y+player.height>e.y){
      hitSound.play(); gameOver(); return;
    }
    if(e.x+e.width<0) enemies.splice(i,1);
  }

  // --- Update power-ups ---
  for(let i=powerUps.length-1;i>=0;i--){
    const p=powerUps[i]; p.x-=p.speed;
    ctx.drawImage(powerImg, p.x,p.y,p.width,p.height);
    if(player.x<p.x+p.width && player.x+player.width>p.x && player.y<p.y+p.height && player.y+player.height>p.y){
      score+=50; powerSound.play(); powerUps.splice(i,1);
    }
    if(p.x+p.width<0) powerUps.splice(i,1);
  }

  // --- Boss ---
  if(score>=1200 && !bossActive){
    bossActive=true;
    enemies.push({x:canvas.width, y:canvas.height-70, width:70, height:70, speed:3, img:2});
    alert('Boss wave!');
  }

  // --- Rocket ending ---
  if(score>=2000 && !rocketLaunched){
    rocketLaunched=true;
    alert('Rocket launched! Watch the cinematic!');
  }
  if(rocketLaunched) drawRocket();

  // --- Score ---
  score++; if(score>highScore) highScore=score;
  document.getElementById('scoreText').innerText=`Score: ${score} ‚Ä¢ High: ${highScore}`;

  requestAnimationFrame(gameLoop);
}

function gameOver(){ isRunning=false; startBtn.style.display='inline'; pauseBtn.style.display='none'; alert(`Game Over! Score: ${score}`);}
</script>
</body>
</html>
